<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <h1 class="bg-dark text-white text-center py-3">Borrowing History of <span th:text="${client.username}"></span></h1>
    <ul>
        <li>
            <a th:href="@{'/clients'}">Go back to client list</a>
        </li>
        <li>
            <a th:href="@{'/'}">Home Page</a>
        </li>
    </ul>
    <div th:switch="${client.documentLoans.size() > 0}" class="w-50 m-auto my-5">
        <div th:case="${true}">
            <table class="table table-borderless table-hover">
                <thead class="table-dark">
                    <th>ID</th>
                    <th>Document</th>
                    <th>Lending Date</th>
                    <th>Expected Return Date</th>
                    <th>Return Date</th>
                </thead>
                <tbody>
                    <th:block th:each="dl, stat : ${client.documentLoans}">
                        <tr>
                            <td th:text="${dl.id}"></td>
                            <td>
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title" th:text="${dl.document.id}"></h4>
                                        <p class="card-text" th:text="${dl.document.title}"></p>
                                    </div>
                                </div>
                            </td>
                            <td th:text="${dl.lendingDate}"></td>
                            <td th:text="${dl.expectedReturnDate}"></td>
                            <td th:text="${dl.actualReturnDate}"></td>
                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div>
        <div th:case="*">
            <p>No borrowing history</p>
        </div>
    </div>
</body>
</html>